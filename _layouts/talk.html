---
layout: default
---

<article class="talk" itemscope itemtype="https://schema.org/PresentationDigitalDocument">
    <!-- Breadcrumb navigation -->
    <nav class="breadcrumb" role="navigation" aria-label="Breadcrumb">
        <ol>
            <li><a href="{{ '/' | relative_url }}">Home</a></li>
            <li><a href="{{ '/talks/' | relative_url }}">Talks</a></li>
            <li aria-current="page">{{ page.title }}</li>
        </ol>
    </nav>

    <!-- Talk header -->
    <header class="talk-header">
        <h1 class="talk-title" itemprop="name">{{ page.title }}</h1>
        
        <div class="talk-meta">
            <span class="speaker" itemprop="author">{{ page.speaker }}</span>
            <span class="conference" itemprop="publisher">{{ page.conference }}</span>
            <time class="date" datetime="{{ page.date | date: '%Y-%m-%d' }}" itemprop="datePublished">
                {{ page.date | date: "%B %d, %Y" }}
            </time>
            {% if page.status %}
            <span class="status status-{{ page.status | downcase }}">{{ page.status | capitalize }}</span>
            {% endif %}
        </div>
    </header>

    <!-- Talk description -->
    {% if page.description %}
    <section class="talk-description" itemprop="description">
        <h2>About This Talk</h2>
        <p>{{ page.description }}</p>
    </section>
    {% endif %}

    <!-- Talk abstract -->
    {% if page.abstract %}
    <section class="talk-abstract" itemprop="abstract">
        <h2>Abstract</h2>
        <div class="abstract-content">
            {{ page.abstract | markdownify }}
        </div>
    </section>
    {% endif %}

    <!-- Talk resources with embedded content support -->
    {% if page.resources and page.resources.size > 0 %}
    <section class="talk-resources">
        <h2>Resources</h2>
        <!-- DEBUG: Resource count: {{ page.resources.size }} -->
        
        {% comment %} Group resources by type {% endcomment %}
        {% assign grouped_resources = page.resources | group_by: "type" %}
        <!-- DEBUG: Group count: {{ grouped_resources.size }} -->
        
        {% for group in grouped_resources %}
        <div class="resource-group">
            <h3>{{ group.name | capitalize }}</h3>
            <!-- DEBUG: Items in {{ group.name }}: {{ group.items.size }} -->
            <ul class="resource-list">
                {% for resource in group.items %}
                <!-- DEBUG: Processing {{ resource.type }}: {{ resource.url }} -->
                {% include embedded_resource.html resource=resource %}
                {% endfor %}
            </ul>
        </div>
        {% endfor %}
    </section>
    {% endif %}

    <!-- Talk content -->
    {% if content and content != empty %}
    <section class="talk-content" itemprop="text">
        <h2>Notes</h2>
        <div class="content">
            {{ content }}
        </div>
    </section>
    {% endif %}

    <!-- Notification placeholder for future features -->
    <section class="notification-placeholder">
        <h2>Stay Updated</h2>
        <p>Interested in updates about this talk? Email notifications will be available in a future version.</p>
    </section>
</article>

<!-- Structured data -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "PresentationDigitalDocument",
  "name": "{{ page.title | escape }}",
  "author": {
    "@type": "Person",
    "name": "{{ page.speaker | escape }}"
  },
  "publisher": {
    "@type": "Organization",
    "name": "{{ page.conference | escape }}"
  },
  "datePublished": "{{ page.date | date: '%Y-%m-%d' }}",
  {% if page.description %}"description": "{{ page.description | escape }}",{% endif %}
  {% if page.abstract %}"abstract": "{{ page.abstract | strip_html | escape }}",{% endif %}
  "url": "{{ page.url | absolute_url }}"
}
</script>